(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{179:function(e,a,t){"use strict";t.r(a);var o=t(4),r=t(37),n=t(38),l=t(40),s=t(39),c=t(41),m=t(2),i=t.n(m),u=t(21),d=t(42),p=t(275),g=t(328),E=t(203),f=t(274),b=t(329),h=t(206),v=t(227),N=t(207),O=t(47),P=function(e){var a=e.produto.foto_jpg?O.a.urlImagens+e.produto.foto_jpg:O.a.imagemPadrao;return i.a.createElement(p.a,{xs:"6",sm:"6",md:"4",lg:"4",xl:"4",className:"animated fadeIn"},i.a.createElement(g.a,null,i.a.createElement(E.a,null,i.a.createElement(f.a,null,i.a.createElement(p.a,{xs:"10",sm:"10",md:"10",lg:"10",xl:"10",className:"text-truncate"},e.produto.produto),i.a.createElement(p.a,{xs:"2",sm:"2",md:"2",lg:"2",xl:"2"},i.a.createElement("div",{className:"card-header-actions",title:"Visibilidade do produto"},i.a.createElement(N.n,{className:"float-right mx-1",color:"success",outline:!0,label:!0,dataOn:"\u2713",dataOff:"\u2715",checked:!!e.produto.dados[0]&&e.produto.dados[0].situacao,onClick:function(){return e.produto.dados[0]?e.alterarProduto(e.produto,!e.produto.dados[0].situacao):e.formProduto(e.produto)},size:"sm"}))))),i.a.createElement(b.a,null,i.a.createElement("img",{src:a,style:{width:"100%",height:"auto"},alt:e.produto.produto}),i.a.createElement("p",null,e.produto.situacao,"Codigo de barras: ",e.produto.codbar,i.a.createElement("br",null),e.produto.grupo," ",e.produto.categoria&&"| ".concat(e.produto.categoria),i.a.createElement("br",null),"Marca: ",e.produto.marca?e.produto.marca:"--",i.a.createElement("br",null),"Embalagem: ",e.produto.embalagem),e.produto.dados[0]&&i.a.createElement("p",null,"R$: ",e.produto.dados[0].preco," Estoque: ",e.produto.dados[0].estoque.disponivel," m\xednimo: ",e.produto.dados[0].estoque.minimo)),i.a.createElement(h.a,null,i.a.createElement(f.a,null,i.a.createElement(p.a,{xs:"12",sm:"12",md:"12"},i.a.createElement(v.a,{color:"ghost-dark",size:"sm",onClick:function(){return e.formProduto(e.produto)}},i.a.createElement("i",{className:"fa fa-pencil-square-o"}),"\xa0Alterar"),i.a.createElement(v.a,{color:"ghost-dark",size:"sm",onClick:function(){return e.removerReferencia(e.produto)}},i.a.createElement("i",{className:"fa fa-trash-o"}),"\xa0Remover"))))))},j=t(345),S=t(239),F=t(240),x={estados:[{nome:"Acre",sigla:"AC"},{nome:"Alagoas",sigla:"AL"},{nome:"Amap\xe1",sigla:"AP"},{nome:"Amazonas",sigla:"AM"},{nome:"Bahia",sigla:"BA"},{nome:"Cear\xe1",sigla:"CE"},{nome:"Distrito Federal",sigla:"DF"},{nome:"Esp\xedrito Santo",sigla:"ES"},{nome:"Goi\xe1s",sigla:"GO"},{nome:"Maranh\xe3o",sigla:"MA"},{nome:"Mato Grosso",sigla:"MT"},{nome:"Mato Grosso do Sul",sigla:"MS"},{nome:"Minas Gerais",sigla:"MG"},{nome:"Par\xe1",sigla:"PA"},{nome:"Para\xedba",sigla:"PB"},{nome:"Paran\xe1",sigla:"PR"},{nome:"Pernambuco",sigla:"PE"},{nome:"Piau\xed",sigla:"PI"},{nome:"Rio de Janeiro",sigla:"RJ"},{nome:"Rio Grande do Norte",sigla:"RN"},{nome:"Rio Grande do Sul",sigla:"RS"},{nome:"Rond\xf4nia",sigla:"RO"},{nome:"Roraima",sigla:"RR"},{nome:"Santa Catarina",sigla:"SC"},{nome:"S\xe3o Paulo",sigla:"SP"},{nome:"Sergipe",sigla:"SE"},{nome:"Tocantins",sigla:"TO"}],grupos:[{nome:"A\xc7OUGUE"},{nome:"BAZAR"},{nome:"BEB\xca"},{nome:"BEBIDAS"},{nome:"CONGELADO"},{nome:"CONGELADOS"},{nome:"ELETRO"},{nome:"FRIOS E LATIC\xcdNIOS"},{nome:"HIGIENE E BELEZA"},{nome:"HORTIFRUTI"},{nome:"INFANTIL"},{nome:"LIMPEZA"},{nome:"MERCEARIA"},{nome:"PADARIA"},{nome:"PETSHOP"}]},A=t(204),R=t(205),C=t(16),M=t(191),w=t(3),k=t.n(w),I=t(189),y=t.n(I),T=t(190),q={children:k.a.node,className:k.a.string,listClassName:k.a.string,cssModule:k.a.object,size:k.a.string,tag:T.h,listTag:T.h,"aria-label":k.a.string},z=function(e){var a,t=e.className,o=e.listClassName,r=e.cssModule,n=e.size,l=e.tag,s=e.listTag,c=e["aria-label"],m=Object(M.a)(e,["className","listClassName","cssModule","size","tag","listTag","aria-label"]),u=Object(T.e)(y()(t),r),d=Object(T.e)(y()(o,"pagination",((a={})["pagination-"+n]=!!n,a)),r);return i.a.createElement(l,{className:u,"aria-label":c},i.a.createElement(s,Object(C.a)({},m,{className:d})))};z.propTypes=q,z.defaultProps={tag:"nav",listTag:"ul","aria-label":"pagination"};var G=z,B={active:k.a.bool,children:k.a.node,className:k.a.string,cssModule:k.a.object,disabled:k.a.bool,tag:T.h},L=function(e){var a=e.active,t=e.className,o=e.cssModule,r=e.disabled,n=e.tag,l=Object(M.a)(e,["active","className","cssModule","disabled","tag"]),s=Object(T.e)(y()(t,"page-item",{active:a,disabled:r}),o);return i.a.createElement(n,Object(C.a)({},l,{className:s}))};L.propTypes=B,L.defaultProps={tag:"li"};var D=L,U=Object(F.a)({form:"formFiltros",enableReinitialize:!0})(function(e){var a=e.handleSubmit;return i.a.createElement("div",null,i.a.createElement("form",{onSubmit:a,className:"form"},i.a.createElement(f.a,null,i.a.createElement(p.a,{xs:"3"},i.a.createElement(A.a,null,i.a.createElement(R.a,{htmlFor:"situacao"},"Quais listar?"),i.a.createElement(S.a,{component:"select",className:"form-control",name:"situacao"},i.a.createElement("option",{value:!0},"Meus produtos"),i.a.createElement("option",{value:!1},"Indispon\xedveis")))),i.a.createElement(p.a,{xs:"3"},i.a.createElement(A.a,null,i.a.createElement(R.a,{htmlFor:"grupos"},"Grupos"),i.a.createElement(S.a,{component:"select",className:"form-control",name:"grupos",multiple:!0},i.a.createElement("option",{value:"todos"},"Todos"),i.a.createElement("option",{value:""},"Sem grupos"),x.grupos.map(function(e,a){return i.a.createElement("option",{value:e.nome,key:a},e.nome)})))),i.a.createElement(p.a,{xs:"3"},i.a.createElement(A.a,null,i.a.createElement(R.a,{htmlFor:"limit"},"\xcdtens por p\xe1gina"),i.a.createElement(S.a,{component:"select",className:"form-control",name:"limit"},[15,30,45,60,90,150,200,300,500,1e3].map(function(e,a){return i.a.createElement("option",{value:e,key:a},e)})))),i.a.createElement(p.a,{xs:"3"},i.a.createElement(A.a,null,i.a.createElement(R.a,{htmlFor:"order"},"Ordernar"),i.a.createElement(S.a,{component:"select",className:"form-control",name:"order",value:"asc"},i.a.createElement("option",{value:"asc"},"A - Z"),i.a.createElement("option",{value:"desc"},"Z - A"))))),i.a.createElement(f.a,null,i.a.createElement(p.a,{xs:"6"},i.a.createElement(A.a,null,i.a.createElement(R.a,{htmlFor:"pesquisar"},"Pesquisar"),i.a.createElement(S.a,{component:"input",className:"form-control",name:"pesquisar",placeholder:"pesquise c\xf3digos, nome, categorias..."}))),i.a.createElement(p.a,{xs:"3"},i.a.createElement(A.a,null,i.a.createElement(R.a,null,"\xa0"),i.a.createElement(G,null,i.a.createElement(D,null,i.a.createElement(v.a,{disabled:1===e.page,onClick:function(){return e.prevPage()}},"<")),i.a.createElement(D,null,i.a.createElement(v.a,null,e.page,"/",e.pages)),i.a.createElement(D,null,i.a.createElement(v.a,{disabled:e.page===e.pages,onClick:function(){return e.nextPage()}},">"))))),i.a.createElement(p.a,{xs:"3"},i.a.createElement(A.a,null,i.a.createElement(R.a,null,"\xa0"),i.a.createElement(S.a,{component:v.a,name:"submit",type:"submit",color:"success",block:!0},"Aplicar filtros ",i.a.createElement("i",{className:"fa fa-check"})))))))}),J=Object(F.a)({form:"formProduto",validate:function(e){var a={};return e.codbar||(a.codbar="Obrigat\xf3rio"),e.produto||(a.produto="Obrigat\xf3rio"),e.categoria||(a.categoria="Obrigat\xf3rio"),a},enableReinitialize:!0})(function(e){var a=e.handleSubmit,t=e.show,o=e.error,r=e.pristine,n=e.submitting,l=e.initialValues;return t&&i.a.createElement("div",{className:"animated fadeIn"},i.a.createElement("form",{onSubmit:a,className:"form"},i.a.createElement(p.a,{xs:"12",sm:"11",md:"9",lg:"8",xl:"5"},i.a.createElement(g.a,null,i.a.createElement(E.a,null,i.a.createElement("strong",null,l.produto),i.a.createElement("small",null," | Atualizar dados")),i.a.createElement(b.a,null,o&&i.a.createElement(f.a,null,i.a.createElement(p.a,{xs:"12"},i.a.createElement(j.a,{color:"danger"},o))),i.a.createElement(f.a,null,i.a.createElement(p.a,{xs:"12"},i.a.createElement(A.a,null,i.a.createElement(R.a,{htmlFor:"dados.codigos"},"C\xf3digos | ",i.a.createElement("small",null,"Separe os c\xf3digos com virgula ','")),i.a.createElement(S.a,{type:"text",name:"dados.codigos",placeholder:"codigo01, cod02, codQualquer",component:"input",className:"form-control"})))),i.a.createElement(f.a,null,i.a.createElement(p.a,{xs:"7"},i.a.createElement(A.a,null,i.a.createElement(R.a,{htmlFor:"dados.preco"},"Pre\xe7o de venda"),i.a.createElement(S.a,{type:"number",name:"dados.preco",placeholder:"00,00",pattern:"[0-9]+([\\.,][0-9]+)?",step:"0.01",component:"input",className:"form-control",required:!0}))),i.a.createElement(p.a,{xs:"5"},i.a.createElement(A.a,null,i.a.createElement(R.a,{htmlFor:"dados.situacao"},"Situa\xe7\xe3o"),i.a.createElement(S.a,{component:"select",className:"form-control",name:"dados.situacao"},i.a.createElement("option",{value:!0},"Ativo"),i.a.createElement("option",{value:!1},"Inativo"))))),i.a.createElement(f.a,null,i.a.createElement(p.a,{xs:"6"},i.a.createElement(A.a,null,i.a.createElement(R.a,{htmlFor:"dados.estoque.disponivel"},"Estoque dispon\xedvel"),i.a.createElement(S.a,{type:"number",name:"dados.estoque.disponivel",placeholder:"Estoque dispon\xedvel",pattern:"[0-9]+([\\.,][0-9]+)?",step:"0.01",component:"input",className:"form-control"}))),i.a.createElement(p.a,{xs:"6"},i.a.createElement(A.a,null,i.a.createElement(R.a,{htmlFor:"dados.estoque.minimo"},"Estoque m\xednimo"),i.a.createElement(S.a,{type:"number",name:"dados.estoque.minimo",placeholder:"Estoque m\xednimo",pattern:"[0-9]+([\\.,][0-9]+)?",step:"0.01",component:"input",className:"form-control"}))))),i.a.createElement(h.a,null,i.a.createElement(S.a,{component:v.a,name:"submit",type:"submit",size:"sm",disabled:n||r,color:"primary"},i.a.createElement("i",{className:"fa fa-dot-circle-o"})," Salvar"),i.a.createElement("button",{onClick:function(){return e.onCancel()},className:"btn-square btn btn-danger btn-sm"}," ",i.a.createElement("i",{className:"fa close"})," Cancelar"))))))}),Z=function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),m=0;m<n;m++)c[m]=arguments[m];return(t=Object(l.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(c)))).submit=function(e){var a=t.props.estabelecimento,r=Object(o.a)({},e,{estabelecimento:a});t.props.onSetFiltros(r)},t.mudarPagina=function(e){t.props.onLoadProdutos({pagina:e})},t.alterarSituacaoProduto=function(e,a){e.dados[0].situacao=a,e.dados=e.dados[0],t.props.onAlterarProduto(e)},t.formProduto=function(e){var a=t.props.estabelecimento,r=e.dados[0]?Object(o.a)({},e,{dados:Object(o.a)({},e.dados[0])}):Object(o.a)({},e,{dados:{estabelecimento:a._id,situacao:!1,preco:"0,00",estoque:{minimo:0,disponivel:0},codigos:[]}});t.props.onPopularForm(r),t.props.produtos.produtoShowForm||t.props.onShowForm()},t.removerReferencia=function(e){e.dados=e.dados[0],t.props.onRemoverReferencia(e),t.props.onSetFiltros(t.props.produtos.filtros)},t.salvarProduto=function(e){e.dados.codigos=e.dados.codigos.split(","),e.dados.situacao="true"===e.dados.situacao,t.props.onAlterarProduto(e),t.props.produtos.produtoShowForm&&t.props.onShowForm(),t.props.onSetFiltros(t.props.produtos.filtros)},t.produtoCodBar=function(e){t.props.onGetCodBar(e)},t.prevPage=function(){var e=t.props.produtos,a=e.page,r=e.filtros;if(1!==a){var n=a-1,l=Object(o.a)({},r,{pagina:n});t.props.onSetFiltros(l)}},t.nextPage=function(){var e=t.props.produtos,a=e.page,r=e.pages,n=e.filtros;if(a!==r){var l=a+1,s=Object(o.a)({},n,{pagina:l});t.props.onSetFiltros(s)}},t}return Object(c.a)(a,e),Object(n.a)(a,[{key:"componentDidMount",value:function(){var e={situacao:!0,grupos:["todos"],limit:30,order:"asc",pagina:1};JSON.parse(localStorage.getItem("filtros"));e=e;var a=this.props.estabelecimento;this.props.onSetFiltros(Object(o.a)({},e,{estabelecimento:a}))}},{key:"render",value:function(){var e=this,a=this.props.produtos,t=a.loading,o=a.produtoShowForm,r=a.showFormImage;return i.a.createElement("div",{className:"animated fadeIn"},a.produto&&o&&i.a.createElement(J,{show:o,initialValues:a.produto,onCancel:this.props.onShowForm,onSubmit:this.salvarProduto,onGetCodBar:this.produtoCodBar}),!o&&!r&&i.a.createElement(f.a,null,i.a.createElement(p.a,{xl:12},i.a.createElement(g.a,null,i.a.createElement(E.a,null,i.a.createElement("i",{className:"fa fa-align-justify"})," ",i.a.createElement("strong",{className:"card-title"},"Produtos ")),i.a.createElement(b.a,null,i.a.createElement(U,{onSubmit:this.submit,initialValues:a.filtros,page:a.page,pages:a.pages,prevPage:this.prevPage,nextPage:this.nextPage,total:a.total,limit:a.limit}))))),!o&&!r&&i.a.createElement(f.a,null,t&&i.a.createElement(j.a,{color:"success",xs:"12",sm:"12",md:"12",lg:"12",xl:"12"},"carregando..."),a.docs&&!t&&a.docs.map(function(a,t){return i.a.createElement(P,{produto:a,alterarProduto:e.alterarSituacaoProduto,alterarImagem:e.alterarImagem,formProduto:e.formProduto,removerReferencia:e.removerReferencia,key:a._id})}),0===a.total&&i.a.createElement(j.a,{color:"info",xs:"12"},"Nenhum produto foi encontrado. Tente outro filtro!")))}}]),a}(m.Component);a.default=Object(u.b)(function(e){return{produtos:e.produtos,estabelecimento:e.authentication.user.estabelecimento}},function(e){return{onLoadProdutos:function(a){return e(d.d.getProdutos(a))},onSetFiltros:function(a){return e(d.d.setFiltros(a))},onAlterarProduto:function(a){return e(d.d.produtoUpdate(a))},onRemoverReferencia:function(a){return e(d.d.removerReferencia(a))},onCadastrarProduto:function(a){return e(d.d.produtoCreate(a))},onShowForm:function(){return e(d.d.showForm())},onShowFormImage:function(){return e(d.d.showFormImage())},onPopularForm:function(a){return e(d.d.popularForm(a))},onUploadImage:function(a){return e(d.d.imagemUpload(a))},onGetCodBar:function(a){return e(d.d.produtoCodBar(a))}}})(Z)},203:function(e,a,t){"use strict";var o=t(16),r=t(191),n=t(2),l=t.n(n),s=t(3),c=t.n(s),m=t(189),i=t.n(m),u=t(190),d={tag:u.h,className:c.a.string,cssModule:c.a.object},p=function(e){var a=e.className,t=e.cssModule,n=e.tag,s=Object(r.a)(e,["className","cssModule","tag"]),c=Object(u.e)(i()(a,"card-header"),t);return l.a.createElement(n,Object(o.a)({},s,{className:c}))};p.propTypes=d,p.defaultProps={tag:"div"},a.a=p},204:function(e,a,t){"use strict";var o=t(16),r=t(191),n=t(2),l=t.n(n),s=t(3),c=t.n(s),m=t(189),i=t.n(m),u=t(190),d={children:c.a.node,row:c.a.bool,check:c.a.bool,inline:c.a.bool,disabled:c.a.bool,tag:u.h,className:c.a.string,cssModule:c.a.object},p=function(e){var a=e.className,t=e.cssModule,n=e.row,s=e.disabled,c=e.check,m=e.inline,d=e.tag,p=Object(r.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),g=Object(u.e)(i()(a,!!n&&"row",c?"form-check":"form-group",!(!c||!m)&&"form-check-inline",!(!c||!s)&&"disabled"),t);return l.a.createElement(d,Object(o.a)({},p,{className:g}))};p.propTypes=d,p.defaultProps={tag:"div"},a.a=p},205:function(e,a,t){"use strict";var o=t(16),r=t(191),n=t(2),l=t.n(n),s=t(3),c=t.n(s),m=t(189),i=t.n(m),u=t(195),d=t.n(u),p=t(190),g=c.a.oneOfType([c.a.number,c.a.string]),E=c.a.oneOfType([c.a.string,c.a.number,c.a.shape({size:g,push:Object(p.c)(g,'Please use the prop "order"'),pull:Object(p.c)(g,'Please use the prop "order"'),order:g,offset:g})]),f={children:c.a.node,hidden:c.a.bool,check:c.a.bool,size:c.a.string,for:c.a.string,tag:p.h,className:c.a.string,cssModule:c.a.object,xs:E,sm:E,md:E,lg:E,xl:E,widths:c.a.array},b={tag:"label",widths:["xs","sm","md","lg","xl"]},h=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},v=function(e){var a=e.className,t=e.cssModule,n=e.hidden,s=e.widths,c=e.tag,m=e.check,u=e.size,g=e.for,E=Object(r.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),f=[];s.forEach(function(a,o){var r=e[a];if(delete E[a],r||""===r){var n,l=!o;if(d()(r)){var s,c=l?"-":"-"+a+"-";n=h(l,a,r.size),f.push(Object(p.e)(i()(((s={})[n]=r.size||""===r.size,s["order"+c+r.order]=r.order||0===r.order,s["offset"+c+r.offset]=r.offset||0===r.offset,s))),t)}else n=h(l,a,r),f.push(n)}});var b=Object(p.e)(i()(a,!!n&&"sr-only",!!m&&"form-check-label",!!u&&"col-form-label-"+u,f,!!f.length&&"col-form-label"),t);return l.a.createElement(c,Object(o.a)({htmlFor:g},E,{className:b}))};v.propTypes=f,v.defaultProps=b,a.a=v},206:function(e,a,t){"use strict";var o=t(16),r=t(191),n=t(2),l=t.n(n),s=t(3),c=t.n(s),m=t(189),i=t.n(m),u=t(190),d={tag:u.h,className:c.a.string,cssModule:c.a.object},p=function(e){var a=e.className,t=e.cssModule,n=e.tag,s=Object(r.a)(e,["className","cssModule","tag"]),c=Object(u.e)(i()(a,"card-footer"),t);return l.a.createElement(n,Object(o.a)({},s,{className:c}))};p.propTypes=d,p.defaultProps={tag:"div"},a.a=p}}]);
//# sourceMappingURL=12.3c5f4fb3.chunk.js.map